<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>DOM核心思想</title>
	<script>
	function log(msg) {
		console.log(msg)
	}
	</script>
</head>
<body>
	<div class="test" title="if it is possible, then the world would be wonderful!">
		<p>element-p</p>
		<span>element-span</sapn>
	</div>
	<script>
	//DOM中的M代表着'model',也可说是'Map',它们都是某种事务的表现形式.DOM代表
	//着被加载到浏览器窗口里的当前网页:浏览器向我们提供了当前网页的地图,而我们通
	//过Javascript去读取这份地图.
	//DOM把一份文档表示为一颗家谱树,并使用parent、child、sibling等记号来表明
	//家族成员之间的关系.

	//1.节点(元素节点、文本节点、属性节点)
	//2.获取元素的方法getElementById、getElementsByTagName、getElementsByClassName(不过这个只支持高级浏览器)
	var byTagName = document.getElementsByTagName('div');
	var byClassName = getElementsByClassName(document, 'test');

	//兼容所有浏览器
	function getElementsByClassName(node, className) {
		if(node.getElementsByClassName) {
			return node.getElementsByClassName(className);
		} else {
			var nodeItems = node.getElementsByTagName('*'), results = [];
			for(var i=0,len=nodeItems.length;i<len;i++) {
				var item = nodeItems[i];
				if(item.className.indexOf(className) > 0) {
					results.push(item);
				}
			}

			return results;
		}
	}
	// log(byTagName)
	// log(byClassName)

	//3.每个节点都是一个对象,拥有属于它们本身的属性和方法,如getAttribute、setAttribute.
	var attributes = byClassName[0].getAttribute('title');
	byClassName[0].setAttribute('customAttr', 'just go without thinking more!')
	// log(attributes)

	//4.nodeType:元素节点的-1,属性节点的-2,文本节点的-3
	// log(byClassName[0].nodeType)

	//5.firstChild、lastChild、nodeValue(用来设置节点的值)
	byClassName[0].firstChild.nodeValue = 'test-nodeValue';
	log(byClassName[0].firstChild.nodeValue)
	log(byClassName[0].lastChild)

	//任何DOM元素都具有如下常用属性:childNodes([])、children([])、classList([])、className、firstChild/firstElementChild、lastChild\lastElementChild、innerHTML(不包含tag)、outterHTML(包含tag)、localName(标签名)、nodeType、nodeValue、parentElement\parentNode、previousElementSibling\previousSibling、scrollHeight、scrollLeft、scrollTop、scrollWidth、style(object)、tagName(大写)

	//1，childNodes 属性，标准的，它返回指定元素的子元素集合，包括HTML节点，所有属性，文本。可以通过nodeType来判断是哪种类型的节点，只有当nodeType==1时才是元素节点，2是属性节点，3是文本节点。
	//2，children 属性，非标准的，它返回指定元素的子元素集合。经测试，它只返回HTML节点，甚至不返回文本节点。且在所有浏览器下表现惊人的一致。和childNodes 一样，在Firefox下不支持()取集合元素。因此如果想获取指定元素的第一个HTML节点，可以使用children[0]来

	//classList 作为 element.className 这个空格分隔的（space-delimited）字符串的替代，用来便捷地访问一个元素的 class 列表。拥有如下方法:add、remove、toggle、contains.(可惜只有在IE8及以上才可用)

	//firstElementChild等都只支持主流浏览器

	//appendChild(node)/removeChild(node)/replaceChild()

	//修改HTML样式: node.style.color = '#ccc';

	//DOM事件:
	//onclick、onchange、onload/onunload、onmouseover/onmouseout、onmousedown/onmouseup

	//DOM根节点:
	//document.documentElement--全部文档
	//document.body--文档的主体
	</script>
</body>
</html>